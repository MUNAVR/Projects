{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>clogin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/loginu.css' %}">
    <script src="jquery-3.6.4.min.js"></script>
</head>
<body>
    
    <form id="formid" action="signin" method="post">
                {%csrf_token %}
        <section class="vh-50 gradient-custom">
                    <div class="container py-5 h-100">
                      <div class="row d-flex justify-content-center align-items-center h-100">
                        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                          <div class="card bg-dark text-white" style="border-radius: 1rem;">
                            <div class="card-body p-5 text-center">
                  
                              <div class="mb-md-1 mt-md-0 pb-5">
                  
                                <h2 class="fw-bold mb-0 text-uppercase">Login</h2>
                                <p class="text-white-50 mb-5">Please enter your login and password!</p>
                  
                                <div class="form-outline form-white mb-4">
                                  <input type="text" id="uname" name="name" class="form-control form-control-lg" />
                                  <label class="form-label" for="typeEmailX">User Name</label>
                                  <span class="error_form" id="error"></span>
                                </div>
                  
                                <div class="form-outline form-white mb-4">
                                  <input type="password" id="pass" name="password" class="form-control form-control-lg" />
                                  <label class="form-label" for="typePasswordX">Password</label>
                                  <span class="error_form" id="perror"></span>
                                </div>
                  
                                <p class="small mb-2 pb-lg-2"><a class="text-white-50" href="/forget">Forgot password?</a></p>
                                <p style="color: brown;">{{msg}}</p>
                                
                                
                                <input type="submit" class="btn btn-outline-light btn-lg px-5"/>
                                <label class="form-label"></label>
                                
                
                              </div>
                              <div>
                                <p class="mb-0">Don't have an account? <a href="/usignup" class="text-white-50 fw-bold">Sign Up</a>
                                </p>
                              </div>
                
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
        </section>
    </form>
    
    <script type="text/javascript">
      $(function(){
        $("#error").hide();
        $("#perror").hide();

        var error_username = false;
        var error_pass = false;

        $("#uname").focusout(function(){
          check_uname();
        });

        $("#pass").focusout(function(){
          check_pass();
        });



        function check_uname(){
          var a = /^[a-zA-Z\s]+$/;
          var b = $("#uname").val();
          if (a.test(b) && b !=''){
            $("#error").hide();
            $("#uname").css("border-bottom","2px solid #34F458");

          } else{
            $("#error").html("Should contain only characters");
            $("#error").show();
            $("#uname").css("border-bottom", "2px solid #F90A0A") ;
            error_fname = true;
          
        
          }
        }


        function check_pass(){
          var b = $("#pass").val();
          if (b < 8) {
              $("#perror").html("Atleast 8 Characters");
              $("#perror").show();
              $("#pass").css("border-bottom","2px solid #F90A0A");
              error_pass = true;
          } else {
              $("#perror").hide();
              $("#pass").css("border-bottom","2px solid #34F458");
          }
      } 

      $("#formid").submit(function(){

        error_username = false;
        error_pass = false;

        check_uname();
        check_pass();

        if (error_username== false && error_pass== false){
           alert ("Registration Successfully");
           return true;

        } else{
            alert("Please fill the form correctly");
            return false;
        }
        
      });
      });
    </script>
</body>
</html>