{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgetpassword</title> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/loginu.css' %}">
    <script src="jquery-3.6.4.min.js"></script>
</head>
<body>
    <form id="formid" action="fu" method="post">
        {%csrf_token %}
<section class="vh-50 gradient-custom">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                  <div class="card bg-dark text-white" style="border-radius: 1rem;">
                    <div class="card-body p-5 text-center">
          
                      <div class="mb-md-1 mt-md-0 pb-5">
          
                        <h2 class="fw-bold mb-0 text-uppercase">Login</h2>
                        <p class="text-white-50 mb-5">Please enter your login and password!</p>
          
                        <div class="form-outline form-white mb-4">
                          <input type="text" id="uname" name="name" class="form-control form-control-lg" />
                          <label class="form-label" for="typeEmailX">User Name</label>
                          <span class="error_form" id="uerror"></span>
                        </div>
          
                        <div class="form-outline form-white mb-4">
                          <input type="email" id="email" name="email" class="form-control form-control-lg" />
                          <label class="form-label" for="typePasswordX">E-mail</label>
                          <span class="error_form" id="eerror"></span>
                        </div>

                        <div class="form-outline form-white mb-4">
                            <input type="text" id="mbl" name="mbl" class="form-control form-control-lg" />
                            <label class="form-label" for="typePasswordX">Mobile No</label>
                            <span class="error_form" id="merror"></span>
                          </div>

                        <div class="form-outline form-white mb-4">
                            <input type="password" id="pass" name="password" class="form-control form-control-lg" />
                            <label class="form-label" for="typePasswordX"> New Password</label>
                            <span class="error_form" id="passerror"></span>
                        </div>
          
                        
          
                        <input class="btn btn-primary btn-lg" type="submit" value="Submit" />
        
                      </div>
                      <div>
                        {{errmsg}}

                        </p>
                      </div>
        
                    </div>
                  </div>
                </div>
              </div>
            </div>
</section>
</form>

<script type="text/javascript">
  $(function(){
        $("#uerror").hide();
        $("#eerror").hide();
        $("#merror").hide();
        $("#passerror").hide();

        var error_uname = false;
        var error_email = false;
        var error_mbl= false;
        var error_pass = false;


        $("#uname").focusout(function(){
          check_uname();
        });

        $("#email").focusout(function(){
          check_email();
        });

        $("#mbl").focusout(function(){
          check_phone();
        });

        $("#pass").focusout(function(){
          check_pass();
        });

        function check_uname(){
          var a = /^[a-zA-Z\s]+$/;
          var b = $("#uname").val();
          if (a.test(b) && b !=''){
            $("#uerror").hide();
            $("#uname").css("border-bottom","2px solid #34F458");

          } else{
            $("#uerror").html("Should contain only characters");
            $("#uerror").show();
            $("#uname").css("border-bottom", "2px solid #F90A0A") ;
            error_uname = true;
          
        
          }
        }

        function check_email(){
                var a =/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                var b = $("#emailAddress").val();
                if (a.test(b) && b !=''){
                    $("#eerror").hide();
                    $("#email").css("border-bottom","2px solid #34F458");

                } else {
                    $("#eerror").html("Should contain only charachters");
                    $("#eerror").show();
                    $("#email").css("border-bottom","2px solid #F90A0A");
                    error_email = true;
                }
        }

        function check_phone(){
                var a = /([0-9]{10})|(\([0-9]{3}\)\s+[0-9]{3}\-[0-9]{4})/;
                var b = $("#mbl").val();
                if (a.test(b) && b !=''){
                    $("#merror").hide();
                    $("#mbl").css("border-bottom","2px solid #34F458");

                } else {
                    $("#merror").html("Should contain only Numbers");
                    $("#merror").show();
                    $("#mbl").css("border-bottom","2px solid #F90A0A");
                    error_mbl = true;
                }
            }

        function check_pass(){
          var b = $("#pass").val();
          if (b < 8) {
              $("#passerror").html("Atleast 8 Characters");
              $("#passerror").show();
              $("#pass").css("border-bottom","2px solid #F90A0A");
              error_pass = true;
          } else {
              $("#passerror").hide();
              $("#pass").css("border-bottom","2px solid #34F458");
          }
        }

        $("#formid").submit(function(){

          
          error_uname =false;
          error_email =false;
          error_mbl =false;
          error_pass =false;

        
        check_uname();
        check_email();
        check_phone();
        check_pass();

        if (error_uname== false && error_email== false && error_mbl== false && error_pass== false){
           alert ("Registration Successfully");
           return true;

        } else{
            alert("Please fill the form correctly");
            return false;
        }

        });


  });
</script>
    
</body>
</html>